{"ast":null,"code":"class Auth {\n  constructor(baseURL) {\n    this.baseURL = baseURL;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) return res.json();\n    return res.json().then(res => Promise.reject(new Error(res.message || res.error)));\n  }\n\n  register(email, password) {\n    return fetch(`${this.baseURL}/signup`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(this._getResponseData);\n  }\n\n  login(email, password) {\n    return fetch(`${this.baseURL}/signin`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(this._getResponseData);\n  }\n\n  getUserData(jwt) {\n    return fetch(`${this.baseURL}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(this._getResponseData);\n  }\n\n}\n\nconst auth = new Auth(\"https://auth.nomoreparties.co\");\nexport default auth;","map":{"version":3,"sources":["/Users/timurmarokko/Desktop/dev/react-mesto-auth/src/utils/auth.js"],"names":["Auth","constructor","baseURL","_getResponseData","res","ok","json","then","Promise","reject","Error","message","error","register","email","password","fetch","method","headers","body","JSON","stringify","login","getUserData","jwt","Authorization","auth"],"mappings":"AAAA,MAAMA,IAAN,CAAW;AACPC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACH;;AAEDC,EAAAA,gBAAgB,CAACC,GAAD,EAAM;AAClB,QAAIA,GAAG,CAACC,EAAR,EAAY,OAAOD,GAAG,CAACE,IAAJ,EAAP;AACZ,WAAOF,GAAG,CACLE,IADE,GAEFC,IAFE,CAEIH,GAAD,IAASI,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAUN,GAAG,CAACO,OAAJ,IAAeP,GAAG,CAACQ,KAA7B,CAAf,CAFZ,CAAP;AAGH;;AAEDC,EAAAA,QAAQ,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACtB,WAAOC,KAAK,CAAE,GAAE,KAAKd,OAAQ,SAAjB,EAA2B;AACnCe,MAAAA,MAAM,EAAE,MAD2B;AAEnCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF0B;AAKnCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBN,QAAAA,QADiB;AAEjBD,QAAAA;AAFiB,OAAf;AAL6B,KAA3B,CAAL,CASJP,IATI,CASC,KAAKJ,gBATN,CAAP;AAUH;;AAEDmB,EAAAA,KAAK,CAACR,KAAD,EAAQC,QAAR,EAAkB;AACnB,WAAOC,KAAK,CAAE,GAAE,KAAKd,OAAQ,SAAjB,EAA2B;AACnCe,MAAAA,MAAM,EAAE,MAD2B;AAEnCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF0B;AAKnCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBN,QAAAA,QADiB;AAEjBD,QAAAA;AAFiB,OAAf;AAL6B,KAA3B,CAAL,CASJP,IATI,CASC,KAAKJ,gBATN,CAAP;AAUH;;AAEDoB,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,WAAOR,KAAK,CAAE,GAAE,KAAKd,OAAQ,WAAjB,EAA6B;AACrCgB,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAELO,QAAAA,aAAa,EAAG,UAASD,GAAI;AAFxB;AAD4B,KAA7B,CAAL,CAKJjB,IALI,CAKC,KAAKJ,gBALN,CAAP;AAMH;;AA7CM;;AAgDX,MAAMuB,IAAI,GAAG,IAAI1B,IAAJ,CAAS,+BAAT,CAAb;AAEA,eAAe0B,IAAf","sourcesContent":["class Auth {\n    constructor(baseURL) {\n        this.baseURL = baseURL;\n    }\n\n    _getResponseData(res) {\n        if (res.ok) return res.json();\n        return res\n            .json()\n            .then((res) => Promise.reject(new Error(res.message || res.error)));\n    }\n\n    register(email, password) {\n        return fetch(`${this.baseURL}/signup`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                password,\n                email\n            })\n        }).then(this._getResponseData);\n    }\n\n    login(email, password) {\n        return fetch(`${this.baseURL}/signin`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                password,\n                email\n            })\n        }).then(this._getResponseData);\n    }\n\n    getUserData(jwt) {\n        return fetch(`${this.baseURL}/users/me`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${jwt}`\n            }\n        }).then(this._getResponseData);\n    }\n}\n\nconst auth = new Auth(\"https://auth.nomoreparties.co\");\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}