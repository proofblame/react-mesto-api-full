{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/timurmarokko/Desktop/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext,useEffect}from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import PopupWithForm from\"./PopupWithForm\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,valueInput=_ref.valueInput,nameError=_ref.nameError,descriptionError=_ref.descriptionError,handleChangeName=_ref.handleChangeName,handleChangeDescription=_ref.handleChangeDescription,formValid=_ref.formValid;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[isOpen,currentUser]);function handleSubmit(event){event.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"popup-edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",value:valueInput,isOpen:isOpen,onClose:onClose,handleSubmit:handleSubmit,formValid:formValid,children:[/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",value:name||\"\",onChange:function onChange(event){handleChangeName(event);setName(event.target.value);},className:\"popup__input popup__input_name \".concat(nameError?\"popup__input_state_invalid\":\"\"),id:\"user-name\",minLength:\"2\",maxLength:\"40\",required:true,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"span\",{id:\"user-name-error\",className:\"error\",children:nameError}),/*#__PURE__*/_jsx(\"input\",{name:\"job\",type:\"text\",value:description||\"\",onChange:function onChange(event){handleChangeDescription(event);setDescription(event.target.value);},className:\"popup__input popup__input_job \".concat(descriptionError?\"popup__input_state_invalid\":\"\"),id:\"about\",minLength:\"2\",maxLength:\"200\",required:true,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"span\",{id:\"about-error\",className:\"error\",children:descriptionError})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/timurmarokko/Desktop/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["useState","useContext","useEffect","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","valueInput","nameError","descriptionError","handleChangeName","handleChangeDescription","formValid","name","setName","description","setDescription","currentUser","about","handleSubmit","event","preventDefault","target","value"],"mappings":"+PAAA,OAASA,QAAT,CAAmBC,UAAnB,CAA+BC,SAA/B,KAAgD,OAAhD,CACA,OAASC,kBAAT,KAAmC,gCAAnC,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,QAASC,CAAAA,gBAAT,MAUG,IATCC,CAAAA,MASD,MATCA,MASD,CARCC,OAQD,MARCA,OAQD,CAPCC,YAOD,MAPCA,YAOD,CANCC,UAMD,MANCA,UAMD,CALCC,SAKD,MALCA,SAKD,CAJCC,gBAID,MAJCA,gBAID,CAHCC,gBAGD,MAHCA,gBAGD,CAFCC,uBAED,MAFCA,uBAED,CADCC,SACD,MADCA,SACD,eACyBd,QAAQ,CAAC,EAAD,CADjC,wCACQe,IADR,eACcC,OADd,8BAEuChB,QAAQ,CAAC,EAAD,CAF/C,yCAEQiB,WAFR,eAEqBC,cAFrB,eAGC,GAAMC,CAAAA,WAAW,CAAGlB,UAAU,CAACE,kBAAD,CAA9B,CAEAD,SAAS,CAAC,UAAM,CACZc,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACC,KAAb,CAAd,CACH,CAHQ,CAGN,CAACd,MAAD,CAASa,WAAT,CAHM,CAAT,CAKA,QAASE,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CACzBA,KAAK,CAACC,cAAN,GACIf,YAAY,CAAC,CACTO,IAAI,CAAJA,IADS,CAETK,KAAK,CAAEH,WAFE,CAAD,CAAZ,CAIP,CACD,mBACI,MAAC,aAAD,EACI,IAAI,CAAC,oBADT,CAEI,KAAK,CAAC,2HAFV,CAGI,KAAK,CAAER,UAHX,CAII,MAAM,CAAEH,MAJZ,CAKI,OAAO,CAAEC,OALb,CAMI,YAAY,CAAEc,YANlB,CAOI,SAAS,CAAEP,SAPf,wBASI,cACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,MAFT,CAGI,KAAK,CAAEC,IAAI,EAAI,EAHnB,CAII,QAAQ,CAAE,kBAACO,KAAD,CAAW,CACjBV,gBAAgB,CAACU,KAAD,CAAhB,CACAN,OAAO,CAACM,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAP,CACH,CAPL,CAQI,SAAS,0CACLf,SAAS,CAAG,4BAAH,CAAkC,EADtC,CARb,CAWI,EAAE,CAAC,WAXP,CAYI,SAAS,CAAC,GAZd,CAaI,SAAS,CAAC,IAbd,CAcI,QAAQ,KAdZ,CAeI,YAAY,CAAC,KAfjB,EATJ,cA0BI,aAAM,EAAE,CAAC,iBAAT,CAA2B,SAAS,CAAC,OAArC,UACKA,SADL,EA1BJ,cA8BI,cACI,IAAI,CAAC,KADT,CAEI,IAAI,CAAC,MAFT,CAGI,KAAK,CAAEO,WAAW,EAAI,EAH1B,CAII,QAAQ,CAAE,kBAACK,KAAD,CAAW,CACjBT,uBAAuB,CAACS,KAAD,CAAvB,CACAJ,cAAc,CAACI,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAd,CACH,CAPL,CAQI,SAAS,yCACLd,gBAAgB,CAAG,4BAAH,CAAkC,EAD7C,CARb,CAWI,EAAE,CAAC,OAXP,CAYI,SAAS,CAAC,GAZd,CAaI,SAAS,CAAC,KAbd,CAcI,QAAQ,KAdZ,CAeI,YAAY,CAAC,KAfjB,EA9BJ,cA+CI,aAAM,EAAE,CAAC,aAAT,CAAuB,SAAS,CAAC,OAAjC,UACKA,gBADL,EA/CJ,GADJ,CAqDH,CAED,cAAeN,CAAAA,gBAAf","sourcesContent":["import { useState, useContext, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup({\n    isOpen,\n    onClose,\n    onUpdateUser,\n    valueInput,\n    nameError,\n    descriptionError,\n    handleChangeName,\n    handleChangeDescription,\n    formValid\n}) {\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const currentUser = useContext(CurrentUserContext);\n\n    useEffect(() => { \n        setName(currentUser.name); \n        setDescription(currentUser.about); \n    }, [isOpen, currentUser]);\n\n    function handleSubmit(event) {\n        event.preventDefault();\n            onUpdateUser({\n                name,\n                about: description,\n            });\n    }\n    return (\n        <PopupWithForm\n            name=\"popup-edit-profile\"\n            title=\"Редактировать профиль\"\n            value={valueInput}\n            isOpen={isOpen}\n            onClose={onClose}\n            handleSubmit={handleSubmit}\n            formValid={formValid}\n        >\n            <input\n                name=\"name\"\n                type=\"text\"\n                value={name || \"\"}\n                onChange={(event) => {\n                    handleChangeName(event);\n                    setName(event.target.value);\n                }}\n                className={`popup__input popup__input_name ${\n                    nameError ? \"popup__input_state_invalid\" : \"\"\n                }`}\n                id=\"user-name\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                required\n                autoComplete=\"off\"\n            />\n            <span id=\"user-name-error\" className=\"error\">\n                {nameError}\n            </span>\n\n            <input\n                name=\"job\"\n                type=\"text\"\n                value={description || \"\"}\n                onChange={(event) => {\n                    handleChangeDescription(event);\n                    setDescription(event.target.value);\n                }}\n                className={`popup__input popup__input_job ${\n                    descriptionError ? \"popup__input_state_invalid\" : \"\"\n                }`}\n                id=\"about\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                required\n                autoComplete=\"off\"\n            />\n            <span id=\"about-error\" className=\"error\">\n                {descriptionError}\n            </span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;\n"]},"metadata":{},"sourceType":"module"}