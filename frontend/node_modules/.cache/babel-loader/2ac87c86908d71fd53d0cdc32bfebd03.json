{"ast":null,"code":"import _classCallCheck from\"/Users/timurmarokko/Desktop/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/timurmarokko/Desktop/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Auth=/*#__PURE__*/function(){function Auth(baseURL){_classCallCheck(this,Auth);this.baseURL=baseURL;}_createClass(Auth,[{key:\"_getResponseData\",value:function _getResponseData(res){if(res.ok)return res.json();return res.json().then(function(res){return Promise.reject(new Error(res.message||res.error));});}},{key:\"register\",value:function register(email,password){return fetch(\"\".concat(this.baseURL,\"/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(this._getResponseData);}},{key:\"login\",value:function login(email,password){return fetch(\"\".concat(this.baseURL,\"/signin\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(this._getResponseData);}},{key:\"getUserData\",value:function getUserData(jwt){return fetch(\"\".concat(this.baseURL,\"/users/me\"),{headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(jwt)}}).then(this._getResponseData);}}]);return Auth;}();var auth=new Auth(\"https://auth.nomoreparties.co\");export default auth;","map":{"version":3,"sources":["/Users/timurmarokko/Desktop/dev/react-mesto-auth/src/utils/auth.js"],"names":["Auth","baseURL","res","ok","json","then","Promise","reject","Error","message","error","email","password","fetch","method","headers","body","JSON","stringify","_getResponseData","jwt","Authorization","auth"],"mappings":"+UAAMA,CAAAA,I,yBACF,cAAYC,OAAZ,CAAqB,4BACjB,KAAKA,OAAL,CAAeA,OAAf,CACH,C,2EAEgBC,G,CAAK,CAClB,GAAIA,GAAG,CAACC,EAAR,CAAY,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACZ,MAAOF,CAAAA,GAAG,CACLE,IADE,GAEFC,IAFE,CAEG,SAACH,GAAD,QAASI,CAAAA,OAAO,CAACC,MAAR,CAAe,GAAIC,CAAAA,KAAJ,CAAUN,GAAG,CAACO,OAAJ,EAAeP,GAAG,CAACQ,KAA7B,CAAf,CAAT,EAFH,CAAP,CAGH,C,0CAEQC,K,CAAOC,Q,CAAU,CACtB,MAAOC,CAAAA,KAAK,WAAI,KAAKZ,OAAT,YAA2B,CACnCa,MAAM,CAAE,MAD2B,CAEnCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF0B,CAKnCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBN,QAAQ,CAARA,QADiB,CAEjBD,KAAK,CAALA,KAFiB,CAAf,CAL6B,CAA3B,CAAL,CASJN,IATI,CASC,KAAKc,gBATN,CAAP,CAUH,C,oCAEKR,K,CAAOC,Q,CAAU,CACnB,MAAOC,CAAAA,KAAK,WAAI,KAAKZ,OAAT,YAA2B,CACnCa,MAAM,CAAE,MAD2B,CAEnCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF0B,CAKnCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBN,QAAQ,CAARA,QADiB,CAEjBD,KAAK,CAALA,KAFiB,CAAf,CAL6B,CAA3B,CAAL,CASJN,IATI,CASC,KAAKc,gBATN,CAAP,CAUH,C,gDAEWC,G,CAAK,CACb,MAAOP,CAAAA,KAAK,WAAI,KAAKZ,OAAT,cAA6B,CACrCc,OAAO,CAAE,CACL,eAAgB,kBADX,CAELM,aAAa,kBAAYD,GAAZ,CAFR,CAD4B,CAA7B,CAAL,CAKJf,IALI,CAKC,KAAKc,gBALN,CAAP,CAMH,C,oBAGL,GAAMG,CAAAA,IAAI,CAAG,GAAItB,CAAAA,IAAJ,CAAS,+BAAT,CAAb,CAEA,cAAesB,CAAAA,IAAf","sourcesContent":["class Auth {\n    constructor(baseURL) {\n        this.baseURL = baseURL;\n    }\n\n    _getResponseData(res) {\n        if (res.ok) return res.json();\n        return res\n            .json()\n            .then((res) => Promise.reject(new Error(res.message || res.error)));\n    }\n\n    register(email, password) {\n        return fetch(`${this.baseURL}/signup`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                password,\n                email\n            })\n        }).then(this._getResponseData);\n    }\n\n    login(email, password) {\n        return fetch(`${this.baseURL}/signin`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                password,\n                email\n            })\n        }).then(this._getResponseData);\n    }\n\n    getUserData(jwt) {\n        return fetch(`${this.baseURL}/users/me`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${jwt}`\n            }\n        }).then(this._getResponseData);\n    }\n}\n\nconst auth = new Auth(\"https://auth.nomoreparties.co\");\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}